<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Chatroom</title>
    <style>
       body {
           font-family: -apple-system,BlinkMacSystemFont,"Microsoft JhengHei UI","Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji" !important;
       }
       .no-border{
           border: 0px !important;
       }
    </style>
</head>
<body>
<!--
    <div id="file_upload_area">
        <h3>上傳檔案</h3>
        <input type="file" id="file" multiple="multiple"/>
    </div>

    <div id="app">
        {{message}}
    </div>
//-->


    <div class="container-fluid" style="margin-top: 10px">

        <div class="row" id="app">
            
            <div class="col-sm-3">
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">載入檔案</a>
                    <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">設定規則集</a>
                    <a class="nav-link" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages" role="tab" aria-controls="v-pills-messages" aria-selected="false">對應規則集</a>
                    <a class="nav-link" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">抽樣</a>
                    <a class="nav-link" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">輸出檔案</a>
                </div>
            </div>

            <div class="col-sm">

                <div class="card no-border">
                    <div class="card-body">
                        <h5 class="card-title"><b>選擇檔案</b></h5>
                        <input type="file" id="file" multiple="multiple"/>
                        
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item no-border">
                                檔案狀態 
                                <span v-if="file_status.status == true" class="badge badge-success">正確</span>
                                <span v-if="file_status.status == false" class="badge badge-danger">錯誤</span>
                                <span v-if="file_status.status == null" class="badge badge-secondary">請選擇檔案</span>
                            </li>
                            <li v-if="file_status.status == false"  class="list-group-item no-border">錯誤原因 {{file_status.reason}}</li>
                            <li v-if="file_status.status == true" class="list-group-item no-border">{{file_status.row}} 列 X {{file_status.column}} 欄，借貸方差額 = {{file_status.diff}}</li>
                        </ul>

                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title"><b>說明</b></h5>
                        <p class="card-text">你的 Excel 明細帳檔案需包含以下欄位，並且依以下規則命名欄位。</p>
                        <p class="card-text">明細帳借貸方加總應相等，系統會提示借貸方差額。</p>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">欄位</th>
                                    <th scope="col">命名</th>
                                    <th scope="col">備註</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>日期</td>
                                    <td>date</td>
                                    <td>格式為:YYYY-MM-DD<br>(EX:2019-08-01)</td>
                                </tr>
                                <tr>
                                    <td>科目編號</td>
                                    <td>acc_no</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>科目名稱</td>
                                    <td>acc_name</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>傳票編號</td>
                                    <td>vou</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>摘要</td>
                                    <td>note</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>借方</td>
                                    <td>debit</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>貸方</td>
                                    <td>credit</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>


        <div class="row fixed-bottom" id="notify">
            <div class="col-sm">
                <div class="card card-body no-border" style="max-height: 100px;overflow: overlay;">
                    <p v-for="msg in message">{{msg}}</p> 
                </div>
            </div>
        </div>
        
    </div>
    <script src="/static/bundle.js"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: {
                message: "Hello Vue",
                file_status:{status:null,reason:null,row:null,column:null,diff:null,account:[]},
            },
            sockets:{
                file_status:function(data){
                    this.file_status = data
                }
            }
        })

    </script>
</body>
</html>